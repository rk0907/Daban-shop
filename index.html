<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DABAN | Modern Apparel</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
    theme: {
        extend: {
            colors: {
                primary: '#000000',
                secondary: '#FFFFFF',
                accent: '#FFD700', /* gold */
            },
            fontFamily: {
                sans: ['Inter', 'Helvetica Neue', 'sans-serif'],
            },
        }
    }
}
</script>
<style>
body {scroll-behavior: smooth; overflow-x: hidden;}
.custom-scroll::-webkit-scrollbar {width: 6px;}
.custom-scroll::-webkit-scrollbar-thumb {background: #888; border-radius: 3px;}
.custom-scroll::-webkit-scrollbar-thumb:hover {background: #555;}
#cartDrawer {width: 100%;}
@media (min-width: 768px){#cartDrawer{width:400px;}}
</style>
</head>
<body class="bg-secondary text-primary font-sans">

<!-- HEADER -->
<header class="sticky top-0 z-50 bg-primary text-secondary shadow-md">
<div class="flex items-center justify-between p-4 max-w-7xl mx-auto">
    <div class="flex items-center space-x-3 cursor-pointer" onclick="switchView('shop')">
        <img src="https://placehold.co/160x50/000/ffd700?text=DABAN" alt="DABAN Logo" class="h-10 object-contain"/>
        <span class="font-bold text-xl">DABAN</span>
    </div>
    <nav class="flex items-center space-x-4">
        <button onclick="switchView('shop')" class="hover:text-accent font-medium">Shop</button>
        <button onclick="switchView('admin')" class="hover:text-accent font-medium">Admin</button>
        <button id="openCart" class="px-3 py-1 border border-secondary rounded-lg hover:bg-accent hover:text-primary transition">Cart (<span id="cartCount">0</span>)</button>
    </nav>
</div>
</header>

<!-- USER ID DISPLAY -->
<div class="bg-accent p-2 text-xs text-center border-b border-primary">
    Current User ID: <span id="userIdDisplay" class="font-mono text-primary break-all">Authenticating...</span>
</div>

<!-- SHOP VIEW -->
<div id="shopView" class="view hidden">

<section class="text-center py-16 px-4 bg-secondary">
<h2 class="text-5xl font-extrabold mb-3">Monochrome & Gold. Timeless Style.</h2>
<p class="text-lg font-light mb-8">Shop DABAN Apparel - Shoes, Dresses, Shirts, Bags (GH₵)</p>

<!-- Filters -->
<div class="flex flex-col md:flex-row justify-center items-center gap-4 mb-8">
<div class="flex items-center space-x-2"><label>Type:</label><select id="filterType" class="p-2 border border-primary rounded"></select></div>
<div class="flex items-center space-x-2"><label>Size:</label><select id="filterSize" class="p-2 border border-primary rounded"></select></div>
</div>

<!-- Product Grid -->
<div id="productsContainer" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
<div id="loadingIndicator" class="col-span-full text-center p-10 text-gray-500">Loading products...</div>
</div>
</section>
</div>

<!-- ADMIN VIEW -->
<div id="adminView" class="view hidden">

<section class="max-w-4xl mx-auto py-12 px-4">
<h2 class="text-3xl font-bold text-center mb-6">Admin Product Management</h2>

<!-- Login -->
<div id="adminLogin" class="mb-8">
<input type="password" id="adminPassword" placeholder="Enter Admin Password" class="w-full p-3 border rounded mb-2"/>
<button id="adminLoginBtn" class="w-full bg-primary text-accent p-3 rounded hover:bg-accent hover:text-primary transition">Login</button>
<p id="adminLoginMessage" class="text-red-600 text-sm mt-2 text-center"></p>
</div>

<!-- Product Form -->
<div id="adminPanel" class="hidden bg-white p-6 rounded shadow space-y-6">
<h3 class="font-bold text-xl">Add New Product</h3>
<form id="productForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
<input type="text" id="productName" placeholder="Product Name" required class="p-3 border rounded"/>
<select id="productType" required class="p-3 border rounded">
<option value="">Select Type</option>
<option value="Shoes">Shoes</option>
<option value="Dress">Dress</option>
<option value="Shirt">Shirt</option>
<option value="Bag">Bag</option>
</select>
<input type="text" id="productSize" placeholder="Size (S/M/L/One Size)" required class="p-3 border rounded"/>
<input type="number" id="productPrice" placeholder="Price (GH₵)" required class="p-3 border rounded"/>
<div class="md:col-span-2 space-y-2">
<label>Upload Image (Camera/Gallery/File)</label>
<input type="file" id="productImageFile" accept="image/*" capture="environment" class="w-full"/>
<div id="imgPreview" class="min-h-[50px] flex justify-center items-center mt-2"></div>
<input type="hidden" id="productImageBase64"/>
</div>
<button type="submit" class="md:col-span-2 bg-primary text-accent p-3 rounded hover:bg-accent hover:text-primary transition">Add Product</button>
</form>

<h3 class="font-bold text-xl mt-8">Existing Products</h3>
<div id="adminProductList" class="space-y-3"></div>
</div>
</section>
</div>

<!-- CART DRAWER -->
<div id="cartDrawer" class="fixed right-0 top-0 h-full bg-secondary shadow-2xl transform translate-x-full transition-transform duration-300 z-[1001] flex flex-col">
<div class="cart-header bg-primary text-accent p-4 flex justify-between items-center">
<h3 class="text-xl font-bold">Your Cart</h3>
<button id="closeCart" class="text-3xl hover:text-gray-400 transition">×</button>
</div>
<div id="cartItems" class="flex-1 overflow-y-auto custom-scroll p-4 space-y-4"></div>
<div class="cart-footer border-t border-primary p-4 space-y-3">
<div class="flex justify-between font-bold text-lg"><span>Total:</span><span>GH₵<span id="cartTotal">0.00</span></span></div>
<button id="checkoutBtn" class="w-full bg-primary text-accent p-3 rounded hover:bg-accent hover:text-primary transition">Proceed to Checkout</button>
</div>
</div>

<!-- SCRIPT (simplified example for UI, admin login, and product preview) -->
<script>
const shopView=document.getElementById('shopView'),adminView=document.getElementById('adminView'),adminPanel=document.getElementById('adminPanel'),adminLogin=document.getElementById('adminLogin');
const adminPasswordInput=document.getElementById('adminPassword'),adminLoginBtn=document.getElementById('adminLoginBtn'),adminLoginMessage=document.getElementById('adminLoginMessage');
const productImageFile=document.getElementById('productImageFile'),imgPreview=document.getElementById('imgPreview'),productImageBase64=document.getElementById('productImageBase64');

function switchView(view){shopView.classList.add('hidden');adminView.classList.add('hidden');if(view==='shop'){shopView.classList.remove('hidden');}else{adminView.classList.remove('hidden');}}
switchView('shop');

adminLoginBtn.addEventListener('click',()=>{
if(adminPasswordInput.value==='Daban2025'){adminPanel.classList.remove('hidden');adminLoginMessage.textContent='';}else{adminLoginMessage.textContent='Incorrect password!';}});

productImageFile.addEventListener('change',(e)=>{
const file=e.target.files[0];if(!file){imgPreview.innerHTML='';productImageBase64.value='';return;}
const reader=new FileReader();
reader.onload=(ev)=>{productImageBase64.value=ev.target.result;imgPreview.innerHTML=`<img src="${ev.target.result}" class="w-40 h-40 object-cover rounded"/>`;};
reader.readAsDataURL(file);
});
</script>

</body>
</html>
